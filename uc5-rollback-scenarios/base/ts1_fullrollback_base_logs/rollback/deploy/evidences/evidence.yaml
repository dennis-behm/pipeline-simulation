apiVersion: deploy.ibm.com/v1
kind: Evidence
metadata:
  name: base
  description: base
  version: 20250626.161204.112
  annotations:
    creation_timestamp: 20250626.141308.023
    engine:
      version: 3.0.5
      build: manual
      date: Thu Apr 24 00:41:15 CEST 2025
    package:
      path: /u/dbehm/git/june-engagement-workspace/uc5-rollback-scenarios/ts1_fullrollback/base/main/dbbbuild_2025-06-26_16-13-02_rollback/deployPkgDir/applicationArchive.tar
      sha256: 01dc2e42ee99d2f9bffb742d25e204f07d9208ba51b1fb5834e7ef5837e55ebb
    runtime_context:
      zoau_version: 1.2.5.9
    environment_name: EOLEB7-Integration
    deploy_timestamp: 20250626.141309.135
    smf_record:
      status: Ok
status: Ok
activities:
- name: CONFIG
  properties: []
  actions:
  - name: READ CONFIGURATION
    properties: []
    steps:
    - name: INCLUDE APPLICATION VARIABLES
      properties:
      - key: template
        value: include_vars
      - key: var_include_vars
        value: include_application_vars
      artifacts: []
      step_result:
        status: Ok
        msg: Building block include_vars succeeded
        results:
        - status: Ok
          msg: Succeeded to find and access files in 'files_list' or files must not
            exist
          args:
            files_list:
            - /u/dbehm/git/wazi-deploy-sample/plum-samples/external-repos//deployment-method/global/environment-configuration/base/EOLEB7-Integration.yml
            files_must_exist: false
          results: []
        duration: 0.0051424503326416016
      short_name: INCLUDE_APP_VARS
      loop_index: 0
    - name: INCLUDE MIDDLEWARE VARIABLES
      properties:
      - key: template
        value: include_vars
      - key: var_include_vars
        value: include_middleware_vars
      artifacts: []
      step_result:
        status: Ok
        msg: Building block include_vars succeeded
        results:
        - status: Ok
          msg: Succeeded to find and access files in 'files_list' or files must not
            exist
          args:
            files_list:
            - /u/dbehm/git/wazi-deploy-sample/plum-samples/external-repos//deployment-method/global/cics_config.yml
            - /u/dbehm/git/wazi-deploy-sample/plum-samples/external-repos//deployment-method/global/db2_config.yml
            files_must_exist: true
          results: []
        duration: 0.015125036239624023
      short_name: INCLUDE_MIDDLEWARE_VARS
      loop_index: 0
    - name: INCLUDE COMMON VARIABLES
      properties:
      - key: template
        value: include_vars
      - key: var_include_vars
        value: include_common_vars
      artifacts: []
      step_result:
        status: Ok
        msg: Building block include_vars succeeded
        results:
        - status: Ok
          msg: Succeeded to find and access files in 'files_list' or files must not
            exist
          args:
            files_list:
            - /u/dbehm/git/wazi-deploy-sample/plum-samples/external-repos//deployment-method/global/jcl_verification.yml
            - /u/dbehm/git/wazi-deploy-sample/plum-samples/external-repos//deployment-method/global/pds_specification.yml
            - /u/dbehm/git/wazi-deploy-sample/plum-samples/external-repos//deployment-method/global/types_pattern_mapping.yml
            files_must_exist: true
          results: []
        duration: 0.04755139350891113
      short_name: INCLUDE_COMMON_VARS
      loop_index: 0
    action_result:
      status: Ok
      msg: Ok
      results: []
    short_name: CONFIG
    loop_index: 0
  activity_result:
    status: Ok
    msg: Ok
    results: []
  description: |-
    Load the generic Wazi Deploy Configuration variables
    Specific for the Python implementation
  loop_index: 0
  tags:
  - always
- name: PACKAGE
  properties: []
  actions:
  - name: PACKAGE
    properties: []
    steps:
    - name: PACKAGE
      properties: []
      artifacts: []
      step_result:
        status: Ok
        msg: Expand package completed
        results:
        - status: Ok
          msg: Succeeded to expand the package /u/dbehm/git/june-engagement-workspace/uc5-rollback-scenarios/ts1_fullrollback/base/main/dbbbuild_2025-06-26_16-13-02_rollback/deployPkgDir/applicationArchive.tar
            to /u/dbehm/git/june-engagement-workspace/uc5-rollback-scenarios/ts1_fullrollback/base/main/dbbbuild_2025-06-26_16-13-02_rollback
            on system os OS/390
          results:
            command: subprocess.run(['tar', '-xvf', '/u/dbehm/git/june-engagement-workspace/uc5-rollback-scenarios/ts1_fullrollback/base/main/dbbbuild_2025-06-26_16-13-02_rollback/deployPkgDir/applicationArchive.tar',
              '-L', 'T', '-C', '/u/dbehm/git/june-engagement-workspace/uc5-rollback-scenarios/ts1_fullrollback/base/main/dbbbuild_2025-06-26_16-13-02_rollback'],
              capture_output=True, text=True)
            rc: 0
        duration: 0.19884371757507324
      loop_index: 0
    action_result:
      status: Ok
      msg: Ok
      results: []
    loop_index: 0
  activity_result:
    status: Ok
    msg: Ok
    results: []
  description: This activity expands the package into the working directory
  loop_index: 0
  tags:
  - always
- name: DB2
  properties: []
  actions: []
  activity_result:
    status: Skipped
    msg: Activity DB2 skipped due to a tag
    results: []
  description: This activity is dedicated to DBRM bind modules
  loop_index: 0
  tags:
  - db2
- name: DEPLOY_MODULES
  properties: []
  actions: []
  activity_result:
    status: Skipped
    msg: Activity DEPLOY_MODULES skipped due to a tag
    results: []
  description: This activity is deploys artifacts into the target PDS libraries
  loop_index: 0
  tags:
  - deploy
- name: ROLLBACK_MODULES
  properties: []
  actions:
  - name: MODULES
    properties: []
    steps:
    - name: MEMBER_RESTORE
      properties: []
      artifacts:
      - name: BAM1
        hash: ebb0b0a59879694e65ba7e12a92cc6a714e9f9f6
        properties:
        - key: path
          value: bin/dbrm/BAM1.DBRM
        - key: githash
          value: ebb0b0a59879694e65ba7e12a92cc6a714e9f9f6
        - key: giturl
          value: https://github.com/dennis-behm/base.git
        - key: dependency_set
          value:
          - lname: BAD1SQL
            library: SYSLIB
            category: COPY
            sourceDir: /u/dbehm/git/june-engagement-workspace/uc5-rollback-scenarios/ts1_fullrollback/base/main/dbbbuild_2025-06-26_16-11-27_baseline/
            file: base/src/copy/BAD1SQL.cpy
            resolved: true
            excluded: false
          - lname: BAM1
            library: SYSLIB
            category: COPY
            sourceDir: /u/dbehm/git/june-engagement-workspace/uc5-rollback-scenarios/ts1_fullrollback/base/main/dbbbuild_2025-06-26_16-11-27_baseline/
            file: base/src/copy/BAM1.cpy
            resolved: true
            excluded: false
          - lname: BAD1REC
            library: SYSLIB
            category: SQL INCLUDE
            sourceDir: /u/dbehm/git/june-engagement-workspace/uc5-rollback-scenarios/ts1_fullrollback/base/main/dbbbuild_2025-06-26_16-11-27_baseline/
            file: base/src/copy/BAD1REC.cpy
            resolved: true
            excluded: false
          - lname: SQLCA
            library: SYSLIB
            category: SQL INCLUDE
            resolved: false
            excluded: false
          - lname: BAM1
            library: DBEHM.BASE.MAIN.BLD.OBJ
            category: LINK
            file: DBEHM.BASE.MAIN.BLD.OBJ(BAM1)
            resolved: true
            excluded: false
          - lname: DSNHLI
            library: DBC0CFG.DB2.V12.SDSNLOAD
            category: LINK
            file: DBC0CFG.DB2.V12.SDSNLOAD(DSNHLI)
            resolved: true
            excluded: false
        - key: wd_manifest_index
          value: 0
        - key: type
          value: DBRM
      - name: BAD1
        hash: ebb0b0a59879694e65ba7e12a92cc6a714e9f9f6
        properties:
        - key: path
          value: bin/jcl/BAD1.JCL
        - key: githash
          value: ebb0b0a59879694e65ba7e12a92cc6a714e9f9f6
        - key: giturl
          value: https://github.com/dennis-behm/base.git
        - key: wd_manifest_index
          value: 0
        - key: type
          value: JCL
      - name: BAB1
        hash: ebb0b0a59879694e65ba7e12a92cc6a714e9f9f6
        properties:
        - key: path
          value: bin/jcl/BAB1.JCL
        - key: githash
          value: ebb0b0a59879694e65ba7e12a92cc6a714e9f9f6
        - key: giturl
          value: https://github.com/dennis-behm/base.git
        - key: wd_manifest_index
          value: 0
        - key: type
          value: JCL
      - name: BAM1
        hash: ebb0b0a59879694e65ba7e12a92cc6a714e9f9f6
        properties:
        - key: path
          value: bin/load/BAM1.LOAD
        - key: githash
          value: ebb0b0a59879694e65ba7e12a92cc6a714e9f9f6
        - key: giturl
          value: https://github.com/dennis-behm/base.git
        - key: dependency_set
          value:
          - lname: BAD1SQL
            library: SYSLIB
            category: COPY
            sourceDir: /u/dbehm/git/june-engagement-workspace/uc5-rollback-scenarios/ts1_fullrollback/base/main/dbbbuild_2025-06-26_16-11-27_baseline/
            file: base/src/copy/BAD1SQL.cpy
            resolved: true
            excluded: false
          - lname: BAM1
            library: SYSLIB
            category: COPY
            sourceDir: /u/dbehm/git/june-engagement-workspace/uc5-rollback-scenarios/ts1_fullrollback/base/main/dbbbuild_2025-06-26_16-11-27_baseline/
            file: base/src/copy/BAM1.cpy
            resolved: true
            excluded: false
          - lname: BAD1REC
            library: SYSLIB
            category: SQL INCLUDE
            sourceDir: /u/dbehm/git/june-engagement-workspace/uc5-rollback-scenarios/ts1_fullrollback/base/main/dbbbuild_2025-06-26_16-11-27_baseline/
            file: base/src/copy/BAD1REC.cpy
            resolved: true
            excluded: false
          - lname: SQLCA
            library: SYSLIB
            category: SQL INCLUDE
            resolved: false
            excluded: false
          - lname: BAM1
            library: DBEHM.BASE.MAIN.BLD.OBJ
            category: LINK
            file: DBEHM.BASE.MAIN.BLD.OBJ(BAM1)
            resolved: true
            excluded: false
          - lname: DSNHLI
            library: DBC0CFG.DB2.V12.SDSNLOAD
            category: LINK
            file: DBC0CFG.DB2.V12.SDSNLOAD(DSNHLI)
            resolved: true
            excluded: false
        - key: wd_manifest_index
          value: 0
        - key: type
          value: LOAD
      - name: BAB1
        hash: ebb0b0a59879694e65ba7e12a92cc6a714e9f9f6
        properties:
        - key: path
          value: bin/load/BAB1.LOAD
        - key: githash
          value: ebb0b0a59879694e65ba7e12a92cc6a714e9f9f6
        - key: giturl
          value: https://github.com/dennis-behm/base.git
        - key: dependency_set
          value:
          - lname: BAM1
            library: SYSLIB
            category: COPY
            sourceDir: /u/dbehm/git/june-engagement-workspace/uc5-rollback-scenarios/ts1_fullrollback/base/main/dbbbuild_2025-06-26_16-11-27_baseline/
            file: base/src/copy/BAM1.cpy
            resolved: true
            excluded: false
          - lname: BAB1
            library: DBEHM.BASE.MAIN.BLD.OBJ
            category: LINK
            file: DBEHM.BASE.MAIN.BLD.OBJ(BAB1)
            resolved: true
            excluded: false
        - key: wd_manifest_index
          value: 0
        - key: type
          value: LOAD
      - name: BAO1
        hash: ebb0b0a59879694e65ba7e12a92cc6a714e9f9f6
        properties:
        - key: path
          value: bin/load/BAO1.LOAD
        - key: githash
          value: ebb0b0a59879694e65ba7e12a92cc6a714e9f9f6
        - key: giturl
          value: https://github.com/dennis-behm/base.git
        - key: dependency_set
          value:
          - lname: BAM1
            library: SYSLIB
            category: COPY
            sourceDir: /u/dbehm/git/june-engagement-workspace/uc5-rollback-scenarios/ts1_fullrollback/base/main/dbbbuild_2025-06-26_16-11-27_baseline/
            file: base/src/copy/BAM1.cpy
            resolved: true
            excluded: false
          - lname: BAO1
            library: DBEHM.BASE.MAIN.BLD.OBJ
            category: LINK
            file: DBEHM.BASE.MAIN.BLD.OBJ(BAO1)
            resolved: true
            excluded: false
        - key: wd_manifest_index
          value: 0
        - key: type
          value: LOAD
      step_result:
        status: Ok
        msg: All items completed
        results:
        - status: Ok
          msg: Succeeded to restore 'DBEHM.BASETEST.BACK.DBRM(BAM1)' in 'DBEHM.BASETEST.DBRM(BAM1)'
          args:
            pattern: .*.DBRM$
            dataset: DBEHM.BASETEST.DBRM
            dataset_backup: DBEHM.BASETEST.BACK.DBRM
            force_lock: false
            aliases: true
            is_load: false
            is_binary: true
            is_psb: false
            is_dbd: false
            is_asa_text: false
            rename_subs: []
            use_native_copy: false
          results:
            command: 'datasets._copy(DBEHM.BASETEST.BACK.DBRM(BAM1), DBEHM.BASETEST.DBRM(BAM1),
              None, **{''options'': ''-B''})'
            result_command:
              rc: 0
              response_format: UTF-8
              stdout_response: ''
              stderr_response: ''
              command: dcp -B -- "DBEHM.BASETEST.BACK.DBRM(BAM1)" "DBEHM.BASETEST.DBRM(BAM1)"
        - status: Ok
          msg: Succeeded to restore 'DBEHM.BASETEST.BACK.JCL(BAD1)' in 'DBEHM.BASETEST.JCL(BAD1)'
          args:
            pattern: .*.JCL$
            dataset: DBEHM.BASETEST.JCL
            dataset_backup: DBEHM.BASETEST.BACK.JCL
            force_lock: false
            aliases: true
            is_load: false
            is_binary: false
            is_psb: false
            is_dbd: false
            is_asa_text: false
            rename_subs: []
            use_native_copy: true
          results:
            command: cp -T //'DBEHM.BASETEST.BACK.JCL(BAD1)' //'DBEHM.BASETEST.JCL(BAD1)'
            result_command:
              args:
              - cp
              - -T
              - //'DBEHM.BASETEST.BACK.JCL(BAD1)'
              - //'DBEHM.BASETEST.JCL(BAD1)'
              returncode: 0
              stdout: ''
              stderr: ''
        - status: Ok
          msg: Succeeded to restore 'DBEHM.BASETEST.BACK.JCL(BAB1)' in 'DBEHM.BASETEST.JCL(BAB1)'
          args:
            pattern: .*.JCL$
            dataset: DBEHM.BASETEST.JCL
            dataset_backup: DBEHM.BASETEST.BACK.JCL
            force_lock: false
            aliases: true
            is_load: false
            is_binary: false
            is_psb: false
            is_dbd: false
            is_asa_text: false
            rename_subs: []
            use_native_copy: true
          results:
            command: cp -T //'DBEHM.BASETEST.BACK.JCL(BAB1)' //'DBEHM.BASETEST.JCL(BAB1)'
            result_command:
              args:
              - cp
              - -T
              - //'DBEHM.BASETEST.BACK.JCL(BAB1)'
              - //'DBEHM.BASETEST.JCL(BAB1)'
              returncode: 0
              stdout: ''
              stderr: ''
        - status: Ok
          msg: Succeeded to restore 'DBEHM.BASETEST.BACK.LOAD(BAM1)' in 'DBEHM.BASETEST.LOAD(BAM1)'
          args:
            pattern: .*\.LOAD$
            dataset: DBEHM.BASETEST.LOAD
            dataset_backup: DBEHM.BASETEST.BACK.LOAD
            force_lock: true
            aliases: true
            is_load: true
            is_binary: false
            is_psb: false
            is_dbd: false
            is_asa_text: false
            rename_subs: []
            use_native_copy: true
          results:
            command: cp -XI //'DBEHM.BASETEST.BACK.LOAD(BAM1)' //'DBEHM.BASETEST.LOAD(BAM1)'
            result_command:
              args:
              - cp
              - -XI
              - //'DBEHM.BASETEST.BACK.LOAD(BAM1)'
              - //'DBEHM.BASETEST.LOAD(BAM1)'
              returncode: 0
              stdout: ''
              stderr: ''
              msg: 'WARNING: force_lock=True is ineffective with native copy'
        - status: Ok
          msg: Succeeded to restore 'DBEHM.BASETEST.BACK.LOAD(BAB1)' in 'DBEHM.BASETEST.LOAD(BAB1)'
          args:
            pattern: .*\.LOAD$
            dataset: DBEHM.BASETEST.LOAD
            dataset_backup: DBEHM.BASETEST.BACK.LOAD
            force_lock: true
            aliases: true
            is_load: true
            is_binary: false
            is_psb: false
            is_dbd: false
            is_asa_text: false
            rename_subs: []
            use_native_copy: true
          results:
            command: cp -XI //'DBEHM.BASETEST.BACK.LOAD(BAB1)' //'DBEHM.BASETEST.LOAD(BAB1)'
            result_command:
              args:
              - cp
              - -XI
              - //'DBEHM.BASETEST.BACK.LOAD(BAB1)'
              - //'DBEHM.BASETEST.LOAD(BAB1)'
              returncode: 0
              stdout: ''
              stderr: ''
              msg: 'WARNING: force_lock=True is ineffective with native copy'
        - status: Ok
          msg: Succeeded to restore 'DBEHM.BASETEST.BACK.LOAD(BAO1)' in 'DBEHM.BASETEST.LOAD(BAO1)'
          args:
            pattern: .*\.LOAD$
            dataset: DBEHM.BASETEST.LOAD
            dataset_backup: DBEHM.BASETEST.BACK.LOAD
            force_lock: true
            aliases: true
            is_load: true
            is_binary: false
            is_psb: false
            is_dbd: false
            is_asa_text: false
            rename_subs: []
            use_native_copy: true
          results:
            command: cp -XI //'DBEHM.BASETEST.BACK.LOAD(BAO1)' //'DBEHM.BASETEST.LOAD(BAO1)'
            result_command:
              args:
              - cp
              - -XI
              - //'DBEHM.BASETEST.BACK.LOAD(BAO1)'
              - //'DBEHM.BASETEST.LOAD(BAO1)'
              returncode: 0
              stdout: ''
              stderr: ''
              msg: 'WARNING: force_lock=True is ineffective with native copy'
        duration: 4.945747375488281
      description: |-
        This step restored the backup from the backup PDS.
          # Invoke Bind operations
      loop_index: 0
    action_result:
      status: Ok
      msg: Ok
      results: []
    description: |-
      This action is applicable when when restoring files from the backup
      datasets. It is only executed when plan_tags 'restore' is provided.
    loop_index: 0
  - name: BIND
    properties: []
    steps:
    - name: DB2_BIND_PACKAGE
      properties: []
      artifacts:
      - name: BAM1
        hash: ebb0b0a59879694e65ba7e12a92cc6a714e9f9f6
        properties:
        - key: path
          value: bin/dbrm/BAM1.DBRM
        - key: githash
          value: ebb0b0a59879694e65ba7e12a92cc6a714e9f9f6
        - key: giturl
          value: https://github.com/dennis-behm/base.git
        - key: dependency_set
          value:
          - lname: BAD1SQL
            library: SYSLIB
            category: COPY
            sourceDir: /u/dbehm/git/june-engagement-workspace/uc5-rollback-scenarios/ts1_fullrollback/base/main/dbbbuild_2025-06-26_16-11-27_baseline/
            file: base/src/copy/BAD1SQL.cpy
            resolved: true
            excluded: false
          - lname: BAM1
            library: SYSLIB
            category: COPY
            sourceDir: /u/dbehm/git/june-engagement-workspace/uc5-rollback-scenarios/ts1_fullrollback/base/main/dbbbuild_2025-06-26_16-11-27_baseline/
            file: base/src/copy/BAM1.cpy
            resolved: true
            excluded: false
          - lname: BAD1REC
            library: SYSLIB
            category: SQL INCLUDE
            sourceDir: /u/dbehm/git/june-engagement-workspace/uc5-rollback-scenarios/ts1_fullrollback/base/main/dbbbuild_2025-06-26_16-11-27_baseline/
            file: base/src/copy/BAD1REC.cpy
            resolved: true
            excluded: false
          - lname: SQLCA
            library: SYSLIB
            category: SQL INCLUDE
            resolved: false
            excluded: false
          - lname: BAM1
            library: DBEHM.BASE.MAIN.BLD.OBJ
            category: LINK
            file: DBEHM.BASE.MAIN.BLD.OBJ(BAM1)
            resolved: true
            excluded: false
          - lname: DSNHLI
            library: DBC0CFG.DB2.V12.SDSNLOAD
            category: LINK
            file: DBC0CFG.DB2.V12.SDSNLOAD(DSNHLI)
            resolved: true
            excluded: false
        - key: wd_manifest_index
          value: 0
        - key: type
          value: DBRM
      step_result:
        status: Ok
        msg: Bind package succeeded
        results:
        - status: Ok
          msg: Job JOB06670 succeeded
          args:
            db2_system:
              package_maxrc: 4
              plan_maxrc: 4
              user: JENKINS
              package: DEFAULT
              plan: DEFAULT
              qualifier: QUAL
              subsys: DBC1
              package_jobcard: BINDPKG JOB 'WD-PKGBIND',MSGLEVEL=(1,1),MSGCLASS=R,NOTIFY=&SYSUID
              plan_jobcard: BINDPLA JOB 'WD-PLANBIND',MSGLEVEL=(1,1),MSGCLASS=R,NOTIFY=&SYSUID
              package_action: REPLACE
              plan_action: REPLACE
              sdsnload: DBC0CFG.DB2.V12.SDSNLOAD
              plan_pklist: '*.CBSAPK.*'
            template_file: /ZT01/var/python-envs/wazi-deploy-v3.0.5/lib/python3.10/site-packages/wazideploy_translator/templates/db2_bind_package.jcl.j2
          results:
            job_steps:
            - stepname: JES2
              dataset: JESMSGLG
              format: UA
              length: '133'
              recnum: '20'
              dsid: '2'
              msg: |-
                1                    J E S 2  J O B  L O G  --  S Y S T E M  Z T 0 1  --  N O D E  M O P Z T 0 0
                0
                 16.13.14 JOB06670 ---- THURSDAY,  26 JUN 2025 ----
                 16.13.14 JOB06670  IRR010I  USERID DBEHM    IS ASSIGNED TO THIS JOB.
                 16.13.14 JOB06670  ICH70001I DBEHM    LAST ACCESS AT 16:12:56 ON THURSDAY, JUNE 26, 2025
                 16.13.14 JOB06670  $HASP373 BINDPKG  STARTED - INIT 1    - CLASS A        - SYS ZT01
                 16.13.14 JOB06670  IEF403I BINDPKG - STARTED - TIME=16.13.14
                 16.13.14 JOB06670  -                                         --TIMINGS (MINS.)--            ----PAGING COUNTS---
                 16.13.14 JOB06670  -JOBNAME  STEPNAME PROCSTEP    RC   EXCP    CPU    SRB  CLOCK   SERV  PG   PAGE   SWAP    VIO SWAPS STEPNO
                 16.13.14 JOB06670  -BINDPKG           PKGBIND     04    206    .00    .00    .00    911   0      0      0      0     0     1
                 16.13.14 JOB06670  IEF404I BINDPKG - ENDED - TIME=16.13.14
                 16.13.14 JOB06670  -BINDPKG  ENDED.  NAME-                     TOTAL CPU TIME=   .00  TOTAL ELAPSED TIME=   .00
                 16.13.14 JOB06670  $HASP395 BINDPKG  ENDED - RC=0004
                0------ JES2 JOB STATISTICS ------
                -  26 JUN 2025 JOB EXECUTION DATE
                -           21 CARDS READ
                -          122 SYSOUT PRINT RECORDS
                -            0 SYSOUT PUNCH RECORDS
                -           10 SYSOUT SPOOL KBYTES
                -         0.00 MINUTES EXECUTION TIME
            - stepname: JES2
              dataset: JESJCL
              format: V
              length: '136'
              recnum: '10'
              dsid: '3'
              msg: |2-
                        1 //BINDPKG JOB 'WD-PKGBIND',MSGLEVEL=(1,1),MSGCLASS=R,NOTIFY=&SYSUID     JOB06670
                          IEFC653I SUBSTITUTION JCL - 'WD-PKGBIND',MSGLEVEL=(1,1),MSGCLASS=R,NOTIFY=DBEHM
                        2 //JOBLIB   DD  DISP=SHR,
                          //             DSN=DBC0CFG.DB2.V12.SDSNLOAD
                        3 //PKGBIND EXEC PGM=IKJEFT01,DYNAMNBR=20,COND=(4,LT)
                        4 //SYSTSPRT DD  SYSOUT=*
                        5 //SYSPRINT DD  SYSOUT=*
                        6 //SYSUDUMP DD  SYSOUT=*
                        7 //SYSIN    DD  DUMMY
                        8 //SYSTSIN  DD  *
            - stepname: JES2
              dataset: JESYSMSG
              format: VA
              length: '137'
              recnum: '27'
              dsid: '4'
              msg: |2-
                 ICH70001I DBEHM    LAST ACCESS AT 16:12:56 ON THURSDAY, JUNE 26, 2025
                 IEFA111I BINDPKG IS USING THE FOLLOWING JOB RELATED SETTINGS:
                          SWA=ABOVE,TIOT SIZE=64K,DSENQSHR=DISALLOW,GDGBIAS=JOB
                 IEF236I ALLOC. FOR BINDPKG PKGBIND
                 IGD103I SMS ALLOCATED TO DDNAME JOBLIB
                 IEF237I JES2 ALLOCATED TO SYSTSPRT
                 IEF237I JES2 ALLOCATED TO SYSPRINT
                 IEF237I JES2 ALLOCATED TO SYSUDUMP
                 IEF237I DMY  ALLOCATED TO SYSIN
                 IEF237I JES2 ALLOCATED TO SYSTSIN
                 IGD103I SMS ALLOCATED TO DDNAME SYS00001
                 IGD104I DBEHM.BASETEST.DBRM                          RETAINED,  DDNAME=SYS00001
                 IEF142I BINDPKG PKGBIND - STEP WAS EXECUTED - COND CODE 0004
                 IEF285I   DBEHM.BINDPKG.JOB06670.D0000102.?            SYSOUT
                 IEF285I   DBEHM.BINDPKG.JOB06670.D0000103.?            SYSOUT
                 IEF285I   DBEHM.BINDPKG.JOB06670.D0000104.?            SYSOUT
                 IEF285I   DBEHM.BINDPKG.JOB06670.D0000101.?            SYSIN
                 IEF373I STEP/PKGBIND /START 2025177.1613
                 IEF032I STEP/PKGBIND /STOP  2025177.1613
                         CPU:     0 HR  00 MIN  00.01 SEC    SRB:     0 HR  00 MIN  00.00 SEC
                         VIRT:   504K  SYS:   448K  EXT:      496K  SYS:    11968K
                         ATB- REAL:                   256K  SLOTS:                     0K
                              VIRT- ALLOC:      17M SHRD:       0M
                 IGD104I DBC0CFG.DB2.V12.SDSNLOAD                     RETAINED,  DDNAME=JOBLIB
                 IEF375I  JOB/BINDPKG /START 2025177.1613
                 IEF033I  JOB/BINDPKG /STOP  2025177.1613
                         CPU:     0 HR  00 MIN  00.01 SEC    SRB:     0 HR  00 MIN  00.00 SEC
            - stepname: PKGBIND
              dataset: SYSTSPRT
              format: VBA
              length: '137'
              recnum: '61'
              dsid: '102'
              msg: |-
                1READY
                 DSN SYSTEM (DBC1)
                 DSN
                 BIND  PACKAGE(DEFAULT) MEMBER(BAM1) LIBRARY('DBEHM.BASETEST.DBRM') QUALIFIER(QUAL) OWNER(JENKINS) ACTION(REPLACE) ISOLATION(CS) RELE
                 ASE(COMMIT) ENCODING(EBCDIC)
                 DSNX100I  -DBC1 BIND SQL WARNING
                            USING JENKINS AUTHORITY
                            PLAN=(NOT APPLICABLE)
                            DBRM=BAM1
                            STATEMENT=104
                            QUAL.BAD1 IS NOT DEFINED
                 DSNT254I  -DBC1 DSNTBCM2 BIND OPTIONS FOR
                            PACKAGE = MOPDBC0.DEFAULT.BAM1.()
                            ACTION        REPLACE
                            OWNER         JENKINS
                            QUALIFIER     QUAL
                            VALIDATE      RUN
                            EXPLAIN       NO
                            ISOLATION     CS
                            RELEASE       COMMIT
                            COPY
                            APREUSE
                            APCOMPARE
                            APRETAINDUP
                            BUSTIMESENSITIVE YES
                            SYSTIMESENSITIVE YES
                            ARCHIVESENSITIVE YES
                            APPLCOMPAT V12R1M500
                            DESCSTAT YES
                            APREUSESOURCE
                 DSNT255I  -DBC1 DSNTBCM2 BIND OPTIONS FOR
                            PACKAGE = MOPDBC0.DEFAULT.BAM1.()
                            SQLERROR      NOPACKAGE
                            CURRENTDATA   NO
                            DEGREE        1
                            DYNAMICRULES
                            DEFER
                            NOREOPT       VARS
                            KEEPDYNAMIC   NO
                            IMMEDWRITE    INHERITFROMPLAN
                            DBPROTOCOL    DRDA
                            OPTHINT
                            ENCODING      EBCDIC(00500)
                            PLANMGMT      OFF
                            PLANMGMTSCOPE STATIC
                            CONCURRENTACCESSRESOLUTION
                            EXTENDEDINDICATOR
                            PATH
                 DSNT275I  -DBC1 DSNTBCM2 BIND OPTIONS FOR
                            PACKAGE = MOPDBC0.DEFAULT.BAM1.()
                            QUERYACCELERATION
                            GETACCELARCHIVE
                            ACCELERATOR
                            CONCENTRATESTMT
                1           ACCELERATIONWAITFORDATA
                 DSNT232I  -DBC1 SUCCESSFUL BIND FOR
                            PACKAGE = MOPDBC0.DEFAULT.BAM1.()
                 DSN
                 END
                 READY
                 END
            rc: '0004'
        duration: 5.320544719696045
      loop_index: 0
    - name: DB2_BIND_PLAN
      properties: []
      artifacts:
      - name: BAM1
        hash: ebb0b0a59879694e65ba7e12a92cc6a714e9f9f6
        properties:
        - key: path
          value: bin/dbrm/BAM1.DBRM
        - key: githash
          value: ebb0b0a59879694e65ba7e12a92cc6a714e9f9f6
        - key: giturl
          value: https://github.com/dennis-behm/base.git
        - key: dependency_set
          value:
          - lname: BAD1SQL
            library: SYSLIB
            category: COPY
            sourceDir: /u/dbehm/git/june-engagement-workspace/uc5-rollback-scenarios/ts1_fullrollback/base/main/dbbbuild_2025-06-26_16-11-27_baseline/
            file: base/src/copy/BAD1SQL.cpy
            resolved: true
            excluded: false
          - lname: BAM1
            library: SYSLIB
            category: COPY
            sourceDir: /u/dbehm/git/june-engagement-workspace/uc5-rollback-scenarios/ts1_fullrollback/base/main/dbbbuild_2025-06-26_16-11-27_baseline/
            file: base/src/copy/BAM1.cpy
            resolved: true
            excluded: false
          - lname: BAD1REC
            library: SYSLIB
            category: SQL INCLUDE
            sourceDir: /u/dbehm/git/june-engagement-workspace/uc5-rollback-scenarios/ts1_fullrollback/base/main/dbbbuild_2025-06-26_16-11-27_baseline/
            file: base/src/copy/BAD1REC.cpy
            resolved: true
            excluded: false
          - lname: SQLCA
            library: SYSLIB
            category: SQL INCLUDE
            resolved: false
            excluded: false
          - lname: BAM1
            library: DBEHM.BASE.MAIN.BLD.OBJ
            category: LINK
            file: DBEHM.BASE.MAIN.BLD.OBJ(BAM1)
            resolved: true
            excluded: false
          - lname: DSNHLI
            library: DBC0CFG.DB2.V12.SDSNLOAD
            category: LINK
            file: DBC0CFG.DB2.V12.SDSNLOAD(DSNHLI)
            resolved: true
            excluded: false
        - key: wd_manifest_index
          value: 0
        - key: type
          value: DBRM
      step_result:
        status: Ok
        msg: Bind plan succeeded
        results:
        - status: Ok
          msg: Job JOB06671 succeeded
          args:
            db2_system:
              package_maxrc: 4
              plan_maxrc: 4
              user: JENKINS
              package: DEFAULT
              plan: DEFAULT
              qualifier: QUAL
              subsys: DBC1
              package_jobcard: BINDPKG JOB 'WD-PKGBIND',MSGLEVEL=(1,1),MSGCLASS=R,NOTIFY=&SYSUID
              plan_jobcard: BINDPLA JOB 'WD-PLANBIND',MSGLEVEL=(1,1),MSGCLASS=R,NOTIFY=&SYSUID
              package_action: REPLACE
              plan_action: REPLACE
              sdsnload: DBC0CFG.DB2.V12.SDSNLOAD
              plan_pklist: '*.CBSAPK.*'
            template_file: /ZT01/var/python-envs/wazi-deploy-v3.0.5/lib/python3.10/site-packages/wazideploy_translator/templates/db2_bind_plan.jcl.j2
          results:
            job_steps:
            - stepname: JES2
              dataset: JESMSGLG
              format: UA
              length: '133'
              recnum: '20'
              dsid: '2'
              msg: |-
                1                    J E S 2  J O B  L O G  --  S Y S T E M  Z T 0 1  --  N O D E  M O P Z T 0 0
                0
                 16.13.19 JOB06671 ---- THURSDAY,  26 JUN 2025 ----
                 16.13.19 JOB06671  IRR010I  USERID DBEHM    IS ASSIGNED TO THIS JOB.
                 16.13.19 JOB06671  ICH70001I DBEHM    LAST ACCESS AT 16:13:14 ON THURSDAY, JUNE 26, 2025
                 16.13.19 JOB06671  $HASP373 BINDPLA  STARTED - INIT 1    - CLASS A        - SYS ZT01
                 16.13.19 JOB06671  IEF403I BINDPLA - STARTED - TIME=16.13.19
                 16.13.19 JOB06671  -                                         --TIMINGS (MINS.)--            ----PAGING COUNTS---
                 16.13.19 JOB06671  -JOBNAME  STEPNAME PROCSTEP    RC   EXCP    CPU    SRB  CLOCK   SERV  PG   PAGE   SWAP    VIO SWAPS STEPNO
                 16.13.19 JOB06671  -BINDPLA           PLABIND     00    184    .00    .00    .00    594   0      0      0      0     0     1
                 16.13.19 JOB06671  IEF404I BINDPLA - ENDED - TIME=16.13.19
                 16.13.19 JOB06671  -BINDPLA  ENDED.  NAME-                     TOTAL CPU TIME=   .00  TOTAL ELAPSED TIME=   .00
                 16.13.19 JOB06671  $HASP395 BINDPLA  ENDED - RC=0000
                0------ JES2 JOB STATISTICS ------
                -  26 JUN 2025 JOB EXECUTION DATE
                -           20 CARDS READ
                -           95 SYSOUT PRINT RECORDS
                -            0 SYSOUT PUNCH RECORDS
                -            9 SYSOUT SPOOL KBYTES
                -         0.00 MINUTES EXECUTION TIME
            - stepname: JES2
              dataset: JESJCL
              format: V
              length: '136'
              recnum: '10'
              dsid: '3'
              msg: |2-
                        1 //BINDPLA JOB 'WD-PLANBIND',MSGLEVEL=(1,1),MSGCLASS=R,NOTIFY=&SYSUID    JOB06671
                          IEFC653I SUBSTITUTION JCL - 'WD-PLANBIND',MSGLEVEL=(1,1),MSGCLASS=R,NOTIFY=DBEHM
                        2 //JOBLIB   DD  DISP=SHR,
                          //             DSN=DBC0CFG.DB2.V12.SDSNLOAD
                        3 //PLABIND EXEC PGM=IKJEFT01,DYNAMNBR=20,COND=(4,LT)
                        4 //SYSTSPRT DD  SYSOUT=*
                        5 //SYSPRINT DD  SYSOUT=*
                        6 //SYSUDUMP DD  SYSOUT=*
                        7 //SYSIN    DD  DUMMY
                        8 //SYSTSIN  DD  *
            - stepname: JES2
              dataset: JESYSMSG
              format: VA
              length: '137'
              recnum: '25'
              dsid: '4'
              msg: |2-
                 ICH70001I DBEHM    LAST ACCESS AT 16:13:14 ON THURSDAY, JUNE 26, 2025
                 IEFA111I BINDPLA IS USING THE FOLLOWING JOB RELATED SETTINGS:
                          SWA=ABOVE,TIOT SIZE=64K,DSENQSHR=DISALLOW,GDGBIAS=JOB
                 IEF236I ALLOC. FOR BINDPLA PLABIND
                 IGD103I SMS ALLOCATED TO DDNAME JOBLIB
                 IEF237I JES2 ALLOCATED TO SYSTSPRT
                 IEF237I JES2 ALLOCATED TO SYSPRINT
                 IEF237I JES2 ALLOCATED TO SYSUDUMP
                 IEF237I DMY  ALLOCATED TO SYSIN
                 IEF237I JES2 ALLOCATED TO SYSTSIN
                 IEF142I BINDPLA PLABIND - STEP WAS EXECUTED - COND CODE 0000
                 IEF285I   DBEHM.BINDPLA.JOB06671.D0000102.?            SYSOUT
                 IEF285I   DBEHM.BINDPLA.JOB06671.D0000103.?            SYSOUT
                 IEF285I   DBEHM.BINDPLA.JOB06671.D0000104.?            SYSOUT
                 IEF285I   DBEHM.BINDPLA.JOB06671.D0000101.?            SYSIN
                 IEF373I STEP/PLABIND /START 2025177.1613
                 IEF032I STEP/PLABIND /STOP  2025177.1613
                         CPU:     0 HR  00 MIN  00.01 SEC    SRB:     0 HR  00 MIN  00.00 SEC
                         VIRT:   496K  SYS:   392K  EXT:      496K  SYS:    11840K
                         ATB- REAL:                   244K  SLOTS:                     0K
                              VIRT- ALLOC:      15M SHRD:       0M
                 IGD104I DBC0CFG.DB2.V12.SDSNLOAD                     RETAINED,  DDNAME=JOBLIB
                 IEF375I  JOB/BINDPLA /START 2025177.1613
                 IEF033I  JOB/BINDPLA /STOP  2025177.1613
                         CPU:     0 HR  00 MIN  00.01 SEC    SRB:     0 HR  00 MIN  00.00 SEC
            - stepname: PLABIND
              dataset: SYSTSPRT
              format: VBA
              length: '137'
              recnum: '36'
              dsid: '102'
              msg: |-
                1READY
                 DSN SYSTEM (DBC1)
                 DSN
                 BIND  PLAN(DEFAULT) PKLIST(*.CBSAPK.*) QUALIFIER(QUAL) OWNER(JENKINS) ACTION(REPLACE) ISOLATION(CS) RELEASE(COMMIT) ENCODING(EBCDIC)
                 DSNT252I  -DBC1 DSNTBCM1 BIND OPTIONS FOR PLAN DEFAULT
                            ACTION        REPLACE
                            OWNER         JENKINS
                            VALIDATE      RUN
                            ISOLATION     CS
                            ACQUIRE       USE
                            RELEASE       COMMIT
                            EXPLAIN       NO
                            DYNAMICRULES  RUN
                            PROGAUTH      DISABLE
                 DSNT253I  -DBC1 DSNTBCM1 BIND OPTIONS FOR PLAN DEFAULT
                            NODEFER       PREPARE
                            CACHESIZE     3072
                            QUALIFIER     QUAL
                            CURRENTSERVER
                            CURRENTDATA   NO
                            DEGREE        1
                            SQLRULES      DB2
                            DISCONNECT    EXPLICIT
                            NOREOPT       VARS
                            KEEPDYNAMIC   NO
                            IMMEDWRITE    NO
                            DBPROTOCOL    DRDA
                            OPTHINT
                            ENCODING      EBCDIC(00500)
                            CONCURRENTACCESSRESOLUTION
                            PATH
                 DSNT200I  -DBC1  BIND FOR PLAN DEFAULT  SUCCESSFUL
                 DSN
                 END
                 READY
                 END
            rc: '0000'
        duration: 5.320980548858643
      loop_index: 0
    action_result:
      status: Ok
      msg: Ok
      results: []
    description: This action is applicable when we update a DBRM modules
    loop_index: 0
  activity_result:
    status: Ok
    msg: Ok
    results: []
  description: This activity is restores artifacts from back PDS libraries
  loop_index: 0
  tags:
  - restore
  - never
- name: VERIFICATION
  properties: []
  actions:
  - name: JCLEXPERT
    properties: []
    steps:
    - name: SCAN_JCL
      properties:
      - key: template
        value: job_submit
      - key: var_job_submit
        value: jcl_expert_verification
      artifacts:
      - name: BAD1
        hash: ebb0b0a59879694e65ba7e12a92cc6a714e9f9f6
        properties:
        - key: path
          value: bin/jcl/BAD1.JCL
        - key: githash
          value: ebb0b0a59879694e65ba7e12a92cc6a714e9f9f6
        - key: giturl
          value: https://github.com/dennis-behm/base.git
        - key: wd_manifest_index
          value: 0
        - key: type
          value: JCL
      - name: BAB1
        hash: ebb0b0a59879694e65ba7e12a92cc6a714e9f9f6
        properties:
        - key: path
          value: bin/jcl/BAB1.JCL
        - key: githash
          value: ebb0b0a59879694e65ba7e12a92cc6a714e9f9f6
        - key: giturl
          value: https://github.com/dennis-behm/base.git
        - key: wd_manifest_index
          value: 0
        - key: type
          value: JCL
      step_result:
        status: Skipped
        msg: Step SCAN_JCL skipped due to a tag
        results: []
      when:
      - wd_query[[ length ( current_plan_step.artifacts) ]] != 0
      loop:
        loop_query: current_plan_step.artifacts
        loop_var: jcl_member
      loop_index: 0
    action_result:
      status: Ok
      msg: Ok
      results: []
    description: Invoke JCL expert interface for a single member of a dataset
    loop_index: 0
  activity_result:
    status: Ok
    msg: Ok
    results: []
  description: |-
    This action block verifies that the deployed JCLs are correct.
    It uses the JCL Expert to scan and validate them. This showcases
    how the conditional deployment 'loop' keyword can be used.
  loop_index: 0
manifests:
- name: base
  description: base
  version: 20250626.161204.112
  annotations:
    creationTimestamp: 20250626.161204.112
    scmInfo:
      type: git
      uri: https://github.com/dennis-behm/base.git
      branch: main
      shortCommit: ebb0b0a59879694e65ba7e12a92cc6a714e9f9f6
    packageInfo:
      uri: http://10.3.20.231:8081/artifactory/base-dbehm-repo-local/release/rel-1.0.0/base-rel-1.0.0-2025-06-26_16-11-27_baseline.tar
      type: artifactRepository
    external_dependencies: []
